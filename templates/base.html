<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}CloudAnywhere{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
  :root{
    --bg:#0e1116;
    --fg:#e8eaed;
    --muted:#9aa0a6;
    --card:#151923;
    --line:#222733;
    --acc:#2a7bf6;
  }

  *{box-sizing:border-box}
  html, body { height: 100%; }

  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto;
    background:var(--bg);
    color:var(--fg);
    display:flex;
    flex-direction:column;
    min-height:100vh;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:16px 22px;
    border-bottom:1px solid var(--line);
    position:sticky;
    top:0;
    background:rgba(14,17,22,.9);
    backdrop-filter:saturate(180%) blur(6px);
  }

  .brand{font-weight:700;letter-spacing:.2px}
  a{color:inherit;text-decoration:none}

  .btn{
    padding:10px 16px;
    border:1px solid var(--line);
    border-radius:12px;
    display:inline-block;
  }

  .btn.primary{
    background:var(--acc);
    border-color:var(--acc);
    color:#fff;
  }

  .wrap{
    max-width:1040px;
    margin:0 auto;
    padding:28px 18px;
    flex:1 0 auto;
  }

  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:16px;
    padding:18px;
  }

  /* --- двухколоночная витрина --- */
  .showcase{
    display:grid;
    grid-template-columns: 1.2fr .8fr; /* левая шире */
    gap:18px;
    margin:18px 0 28px;
  }

  .preview-card{ height: 300px; }

  .stack{
    display:grid;
    gap:18px;
    grid-auto-rows: 1fr;
  }

  @media (max-width: 980px){
    .showcase{ grid-template-columns: 1fr; }
    .preview-card{ height: 240px; }
  }

  .footer{
    color:var(--muted);
    font-size:13px;
    text-align:center;
    border-top:1px solid var(--line);
    padding:20px 16px;
    margin-top:auto;
  }

    .card.auth{max-width:480px;margin:0 auto}
    .form{display:grid;gap:14px}
    .form .row{display:grid;gap:6px}
    .form label{font-size:14px;color:var(--muted)}
    .form input[type="email"],
    .form input[type="text"],
    .form input[type="password"]{
      width:100%; padding:12px 14px; border:1px solid var(--line);
      border-radius:12px; background:#0f141d; color:var(--fg); outline:none
    }

    .form input:focus{border-color:#3a81ff; box-shadow:0 0 0 3px rgba(42,123,246,.15)}
    .form .actions{display:flex;align-items:center;gap:12px;margin-top:6px}
    .form .inline{display:flex;align-items:center;gap:8px}
    .form .muted a{color:#8ab4f8}
    .errorlist{margin:0; padding:10px 12px; border:1px solid #6b1f1f; border-radius:10px; background:#241617; color:#ffb3b3; list-style:none}
    .helptext{display:none}
</style>
</head>
<body>
  <header>
    <div class="brand"><a href="{% url 'home' %}">CloudAnywhere</a></div>
    <nav>
      {% if user.is_authenticated %}
        <span class="muted">Привет, {{ user.email }}</span>
        <a class="btn" href="{% url 'files' %}">Мои файлы</a>
        <form method="post" action="{% url 'account_logout' %}" style="display:inline">
          {% csrf_token %}
          <button class="btn" type="submit">Выйти</button>
        </form>
      {% else %}
        <a class="btn" href="{% url 'account_login' %}">Вход</a>
        <a class="btn primary" href="{% url 'account_signup' %}">Регистрация</a>
      {% endif %}
    </nav>
  </header>
  <main class="wrap">
  {% block content %}{% endblock %}
  </main>
  <footer class="footer">
  © CloudAnywhere. Мини-облако для людей, уставших от флешек.
  </footer>
</body>
</html>
