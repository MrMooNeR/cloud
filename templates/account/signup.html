{% extends "base.html" %}
{% block title %}Регистрация{% endblock %}

{% block content %}
<style>
  .auth-wrap{
    display:grid;
    place-items:start;
    max-width: 840px;
    margin: 0 auto;
    padding: 0 16px 24px;
  }
  .auth-card{
    width: 560px;
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 16px;
    padding: 22px;
    box-shadow: var(--shadow, 0 0 0 rgba(0,0,0,0));
  }

  .row{ display:grid; gap: 6px; margin-bottom: 12px; }
  .row:last-child{ margin-bottom: 0; }

  label{ font-size: 13px; color: var(--muted, #9aa4b2); }

  /* поля как в логине, но без сюрпризов */
  .auth-card input[type="email"],
  .auth-card input[type="text"],
  .auth-card input[type="password"]{
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--line);
    background: #0f141d;
    color: #e5e7eb;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease;
  }
  body[data-theme="light"] .auth-card input[type="email"],
  body[data-theme="light"] .auth-card input[type="text"],
  body[data-theme="light"] .auth-card input[type="password"]{
    background: #ffffff;
    color: #0b0f19;
  }
  .auth-card input:focus{
    border-color: var(--primary, #3867ff);
    box-shadow: 0 0 0 3px rgba(56,103,255,.15);
  }

  .errors{ color:#ffb4b4; font-size:13px; }
  .muted{ color:#8b98a6; font-size:13px; }
  .link{ color:#9bb1ff; text-decoration: none; }
  .link:hover{ text-decoration: underline; }

  /* мобильная адекватность */
  @media (max-width: 640px){
    .auth-wrap{ place-items: stretch; }
    .auth-card{
      width: 100%;
      padding: 16px;
      border-radius: 12px;
    }
    .auth-card h2{ font-size: 22px; }
    .btn.primary{ width: 100%; }
  }
</style>

<div class="auth-wrap">
  <div class="auth-card">
    <h2 style="margin-bottom:10px">Создать аккаунт</h2>

    <form method="post" action="">
      {% csrf_token %}
      {{ form.non_field_errors|default_if_none:"" }}

      <div class="row">
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email }}
        {{ form.email.errors }}
      </div>

      <div class="row">
        <label for="{{ form.password1.id_for_label }}">Пароль</label>
        {{ form.password1 }}
        {{ form.password1.errors }}
      </div>

      <div class="row">
        <label for="{{ form.password2.id_for_label }}">Повторите пароль</label>
        {{ form.password2 }}
        {{ form.password2.errors }}
      </div>

      <button class="btn primary" type="submit">Создать</button>
    </form>

    <div class="muted" style="margin-top:14px">
      Уже есть аккаунт?
      <a class="link" href="{% url 'account_login' %}">Войти</a>
    </div>
  </div>
</div>
{% endblock %}
